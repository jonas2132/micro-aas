<!-- template.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/general :: head}"></head>

<body>
  <header th:replace="~{fragments/general :: header}"></header>
  <main>
    <div class="container h-100 py-3">
      <div class="alert alert-danger" role="alert">
        <h4 class="alert-heading">Selection missing!</h4>
        <hr>
        <p class="mb-0">Please add some new AAS befor you are trying to export them.</p>
      </div>
      <div class="py-4 px-3 rounded-2 border shadow-sm bg-light h-100 d-flex flex-column">
        <!-- Table for all AAS items-->
        <div class="table-toolbar mb-2 d-flex justify-content-end">
          <!-- Add Button -->
          <button class="btn btn-primary ml-auto" id="addButton">Add</button>
          <script>
            var button = document.getElementById("addButton");
            function buttonClickAction() {
              window.location.href = "/aas/form";
            }
            button.addEventListener("click", buttonClickAction);
          </script>

        </div>
        <form action="/aas/export" method="post">
          <div class="table-wrapper-scroll-y my-custom-scrollbar">

            <table class="table table-striped">
              <thead>
                <tr>
                  <th scope="col">Select</th>
                  <th scope="col">ID</th>
                  <th scope="col">ID-short</th>
                  <th scope="col">PCF CO2eq</th>
                  <th scope="col">PCF CO2eq</th>
                  <th scope="col">Life Cycle Phase</th>
                </tr>
              </thead>
              <tbody>
                <!-- Iterate through the list of EnvironmentService objects and display them in rows -->
                <tr th:each="envService : ${environmentServices}">
                  <td>
                    <input type="checkbox" name="selectedItems" th:value="${envService.getAssetID()}">
                  </td>
                  <td th:text="${envService.getAssetID()}">Asset ID</td>
                  <td th:text="${envService.getAssetIDShort()}">Asset ID Short</td>
                  <td th:text="${envService.getPCFCO2()}">placeholder</td>
                  <td th:text="${envService.getTCFCO2()}">placeholder</td>
                  <td>placeholder</td>
                </tr>
              </tbody>
            </table>

          </div>
          <div class="row mx-0 mt-auto">
            <div class="col-md-9">
              <button type="submit" class="btn btn-primary btn-block w-100" id="exportButton">Export the selected AAS
                as...</button>
            </div>
            <div class="col-md-3">
              <select class="form-control" id="exportFormat" name="exportFormat">
                <option value="json">JSON</option>
                <option value="aasx">AASX</option>
              </select>
            </div>
          </div>
        </form>
      </div>
    </div>

  </main>

  <footer th:replace="~{fragments/general :: footer}"></footer>

</body>

</html>